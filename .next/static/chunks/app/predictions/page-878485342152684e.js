(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{1627:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var s=t(1335),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,r)=>{let t=(0,s.forwardRef)(({color:t="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,...m},g)=>(0,s.createElement)("svg",{ref:g,...i,width:a,height:a,stroke:t,strokeWidth:c?24*Number(l)/Number(a):l,className:["lucide",`lucide-${n(e)}`,o].join(" "),...m},[...r.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(d)?d:[d]]));return t.displayName=`${e}`,t}},8018:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(1627).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3661:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(1627).Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]])},9273:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(1627).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8902:function(e,r,t){Promise.resolve().then(t.bind(t,2168))},2168:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var s=t(7920),i=t(1335),n=t(6685),a=t(1627);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var c=t(3661),o=t(8018),d=t(9273);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,a.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),g=(0,a.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),u=(0,a.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var x=t(9449),p=t(8059),h=t.n(p);let y=[{value:"1h",label:"1 hour"},{value:"4h",label:"4 hours"},{value:"1d",label:"1 day"},{value:"1w",label:"1 week"},{value:"1m",label:"1 month"}],b=["BTC","ETH","SOL","ADA","DOT","AVAX","MATIC","LINK"];function f(){let{data:e,status:r}=(0,x.useSession)(),t=(0,n.useRouter)(),[a,p]=(0,i.useState)({symbol:"",direction:"",confidence:5,targetPrice:"",timeframe:"1d",reasoning:""}),[f,v]=(0,i.useState)([]),[j,N]=(0,i.useState)(!1),[k,w]=(0,i.useState)(!1),[C,P]=(0,i.useState)(""),[E,A]=(0,i.useState)("");(0,i.useEffect)(()=>{"unauthenticated"===r&&t.push("/auth/signin")},[r,t]),(0,i.useEffect)(()=>{e&&T()},[e]);let T=async()=>{try{N(!0);let e=await fetch("/api/predictions");if(e.ok){let r=await e.json();v(r)}else{let r=await e.json();P(r.message||"Failed to fetch predictions")}}catch(e){console.error("Error fetching predictions:",e),P("Error fetching predictions")}finally{N(!1)}},S=function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r?(P(e),A("")):(A(e),P("")),setTimeout(()=>{P(""),A("")},5e3)},Z=async e=>{if(e.preventDefault(),!a.symbol||!a.direction||!a.reasoning.trim()){S("Please fill in all required fields",!0);return}try{w(!0);let e={symbol:a.symbol.toUpperCase(),direction:a.direction,confidence:a.confidence,timeframe:a.timeframe,reasoning:a.reasoning.trim(),...a.targetPrice&&{targetPrice:parseFloat(a.targetPrice)}},r=await fetch("/api/predictions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await r.json();r.ok?(p({symbol:"",direction:"",confidence:5,targetPrice:"",timeframe:"1d",reasoning:""}),T(),S("Prediction created successfully!")):S(t.message||"Failed to create prediction",!0)}catch(e){console.error("Error creating prediction:",e),S("Error creating prediction",!0)}finally{w(!1)}},L=(e,r)=>{p(t=>({...t,[e]:r}))},M=e=>{let r=y.find(r=>r.value===e);return r?r.label:e},D=async(e,r)=>{let t=prompt("Enter the actual price:");if(!t)return;let s=parseFloat(t);if(isNaN(s)||s<=0){S("Please enter a valid positive number for the actual price",!0);return}try{let t=await fetch("/api/predictions/resolve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({predictionId:e,actualPrice:s,isCorrect:r})}),i=await t.json();t.ok?(T(),S("Prediction resolved successfully!")):S(i.message||"Failed to resolve prediction",!0)}catch(e){console.error("Error resolving prediction:",e),S("Error resolving prediction",!0)}},_=async e=>{if(confirm("Are you sure you want to delete this prediction?"))try{let r=await fetch("/api/predictions/".concat(e),{method:"DELETE"}),t=await r.json();r.ok?(T(),S("Prediction deleted successfully!")):S(t.message||"Failed to delete prediction",!0)}catch(e){console.error("Error deleting prediction:",e),S("Error deleting prediction",!0)}};return"loading"===r?(0,s.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-xl",children:"Loading..."})}):e?(0,s.jsx)("div",{className:"min-h-screen bg-black text-white",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,s.jsx)(h(),{href:"/dashboard",className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:(0,s.jsx)(l,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,s.jsx)(c.Z,{className:"w-8 h-8 text-pink-400"}),"Market Predictions"]}),(0,s.jsx)("p",{className:"text-gray-400",children:"Make and track your market predictions"})]})]}),C&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5"}),C]}),E&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-2 text-green-400",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5"}),E]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg border border-gray-800",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[(0,s.jsx)(m,{className:"w-5 h-5 text-pink-400"}),"New Prediction"]}),(0,s.jsxs)("form",{onSubmit:Z,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Symbol *"}),(0,s.jsx)("div",{className:"flex gap-2 mb-3 flex-wrap",children:b.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>L("symbol",e),className:"px-3 py-1 rounded text-sm transition-colors ".concat(a.symbol===e?"bg-pink-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:e},e))}),(0,s.jsx)("input",{type:"text",value:a.symbol,onChange:e=>L("symbol",e.target.value.toUpperCase()),placeholder:"Enter symbol (e.g., BTC, ETH)",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Direction *"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>L("direction","up"),className:"p-4 rounded-lg border-2 transition-colors flex items-center justify-center gap-2 ".concat("up"===a.direction?"border-green-500 bg-green-500/20 text-green-400":"border-gray-700 bg-gray-800 hover:border-green-500/50"),children:[(0,s.jsx)(g,{className:"w-5 h-5"}),"Bullish (Up)"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>L("direction","down"),className:"p-4 rounded-lg border-2 transition-colors flex items-center justify-center gap-2 ".concat("down"===a.direction?"border-red-500 bg-red-500/20 text-red-400":"border-gray-700 bg-gray-800 hover:border-red-500/50"),children:[(0,s.jsx)(u,{className:"w-5 h-5"}),"Bearish (Down)"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Confidence: ",a.confidence,"/10"]}),(0,s.jsx)("input",{type:"range",min:"1",max:"10",value:a.confidence,onChange:e=>L("confidence",parseInt(e.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,s.jsx)("span",{children:"Low"}),(0,s.jsx)("span",{children:"Medium"}),(0,s.jsx)("span",{children:"High"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Target Price (Optional)"}),(0,s.jsx)("input",{type:"number",step:"0.01",min:"0",value:a.targetPrice,onChange:e=>L("targetPrice",e.target.value),placeholder:"Enter expected price",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Timeframe *"}),(0,s.jsx)("select",{value:a.timeframe,onChange:e=>L("timeframe",e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-pink-500",children:y.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Reasoning *"}),(0,s.jsx)("textarea",{value:a.reasoning,onChange:e=>L("reasoning",e.target.value),placeholder:"Why do you think the price will move in this direction? (Required)",rows:4,maxLength:1e3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-pink-500 resize-none"}),(0,s.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[a.reasoning.length,"/1000 characters"]})]}),(0,s.jsx)("button",{type:"submit",disabled:k||!a.symbol||!a.direction||!a.reasoning.trim(),className:"w-full bg-pink-600 hover:bg-pink-700 disabled:bg-gray-700 disabled:cursor-not-allowed py-3 px-4 rounded-lg font-medium transition-colors",children:k?"Creating...":"Create Prediction"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg border border-gray-800",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Your Predictions"}),j?(0,s.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Loading predictions..."}):f.length>0?(0,s.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:f.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-medium",children:e.symbol}),(0,s.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded text-xs ".concat("up"===e.direction?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:["up"===e.direction?(0,s.jsx)(g,{className:"w-3 h-3"}):(0,s.jsx)(u,{className:"w-3 h-3"}),e.direction.toUpperCase()]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat("pending"===e.status?"bg-yellow-500/20 text-yellow-400":"correct"===e.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:e.status}),"pending"===e.status&&(0,s.jsx)("button",{onClick:()=>_(e._id),className:"text-red-400 hover:text-red-300 text-xs px-2 py-1 hover:bg-red-500/10 rounded",children:"Delete"})]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400 space-y-1",children:[(0,s.jsxs)("div",{children:["Confidence: ",e.confidence,"/10"]}),(0,s.jsxs)("div",{children:["Timeframe: ",M(e.timeframe)]}),e.targetPrice&&(0,s.jsxs)("div",{children:["Target Price: $",e.targetPrice.toLocaleString()]}),e.actualPrice&&(0,s.jsxs)("div",{children:["Actual Price: $",e.actualPrice.toLocaleString()]}),e.reasoning&&(0,s.jsx)("div",{className:"mt-2 text-gray-300 text-sm",children:e.reasoning}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Created: ",new Date(e.createdAt).toLocaleString()]}),e.resolvedAt&&(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Resolved: ",new Date(e.resolvedAt).toLocaleString()]})]}),"pending"===e.status&&(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Resolve this prediction:"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>D(e._id,!0),className:"px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors",children:"Mark Correct"}),(0,s.jsx)("button",{onClick:()=>D(e._id,!1),className:"px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition-colors",children:"Mark Incorrect"})]})]})]},e._id))}):(0,s.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No predictions yet. Make your first prediction!"})]})]})]})}):null}}},function(e){e.O(0,[449,133,749,422,744],function(){return e(e.s=8902)}),_N_E=e.O()}]);