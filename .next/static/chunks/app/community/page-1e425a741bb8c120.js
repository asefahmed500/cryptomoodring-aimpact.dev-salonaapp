(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{1627:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(1335),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,...m},x)=>(0,a.createElement)("svg",{ref:x,...r,width:l,height:l,stroke:s,strokeWidth:c?24*Number(i)/Number(l):i,className:["lucide",`lucide-${n(e)}`,o].join(" "),...m},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},3661:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1627).Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]])},2584:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1627).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5675:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1627).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},1:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1627).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1579:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1627).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4229:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1627).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1009:function(e,t,s){Promise.resolve().then(s.bind(s,6557))},6557:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(7920),r=s(9449),n=s(1975),l=s(4229),i=s(1627);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var o=s(2584);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,i.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);var m=s(1);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,i.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var h=s(1335),u=s(5675);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,i.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function g(e){var t,s,n;let{post:l,currentUserId:i,onUpdate:c,onDelete:x}=e,{data:g}=(0,r.useSession)(),[y,j]=(0,h.useState)(!1),[b,f]=(0,h.useState)(""),[v,N]=(0,h.useState)(!1),w=i&&l.likes.includes(i),k=!!(null==g?void 0:g.user),S=async()=>{if(k&&i)try{let e=await fetch("/api/community/".concat(l._id,"/like"),{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();c(t)}}catch(e){console.error("Error liking post:",e)}},C=async e=>{if(e.preventDefault(),k&&b.trim()&&!v){N(!0);try{let e=await fetch("/api/community/".concat(l._id,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:b.trim()})});if(e.ok){let t=await e.json();c(t),f("")}}catch(e){console.error("Error adding comment:",e)}finally{N(!1)}}},Z=async()=>{if(k&&l.userId===i)try{(await fetch("/api/community/".concat(l._id),{method:"DELETE"})).ok&&x(l._id)}catch(e){console.error("Error deleting post:",e)}},M=e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/36e5);return s<1?"Just now":s<24?"".concat(s,"h ago"):t.toLocaleDateString()};return(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold",children:l.username.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:l.username}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:M(l.createdAt)})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(()=>{switch(l.marketSentiment){case"bullish":return(0,a.jsx)(m.Z,{className:"w-4 h-4 text-green-400"});case"bearish":return(0,a.jsx)(u.Z,{className:"w-4 h-4 text-red-400"});default:return(0,a.jsx)(p,{className:"w-4 h-4 text-gray-400"})}})(),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat((n=l.mood)<=3?"text-red-400":n<=6?"text-yellow-400":"text-green-400"),children:["Mood: ",l.mood,"/10"]})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-gray-100 mb-3",children:l.content}),l.cryptoSymbol&&(0,a.jsxs)("div",{className:"inline-block bg-blue-600 text-white px-2 py-1 rounded text-sm mb-2",children:["$",l.cryptoSymbol]}),l.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:l.tags.map((e,t)=>(0,a.jsxs)("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded-full text-xs",children:["#",e]},t))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:S,disabled:!k,className:"flex items-center space-x-2 transition-colors ".concat(w?"text-red-400 hover:text-red-300":"text-gray-400 hover:text-red-400"," ").concat(k?"":"opacity-50 cursor-not-allowed"),children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 ".concat(w?"fill-current":"")}),(0,a.jsx)("span",{children:l.likes.length})]}),(0,a.jsxs)("button",{onClick:()=>j(!y),className:"flex items-center space-x-2 text-gray-400 hover:text-blue-400 transition-colors",children:[(0,a.jsx)(d,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:l.comments.length})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,a.jsx)("span",{className:"capitalize",children:l.marketSentiment}),l.userId===i&&(0,a.jsx)("button",{onClick:Z,className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]}),y&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[k&&(0,a.jsx)("form",{onSubmit:C,className:"mb-4",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-white text-sm font-semibold",children:(null==g?void 0:null===(s=g.user)||void 0===s?void 0:null===(t=s.name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("textarea",{value:b,onChange:e=>f(e.target.value),placeholder:"Add a comment...",className:"w-full bg-gray-700 text-white rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-purple-500",rows:2,maxLength:200}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:[b.length,"/200"]}),(0,a.jsx)("button",{type:"submit",disabled:!b.trim()||v,className:"bg-purple-600 text-white px-4 py-1 rounded text-sm hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?"Posting...":"Post"})]})]})]})}),(0,a.jsx)("div",{className:"space-y-3",children:l.comments.map(e=>(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-white text-sm font-semibold",children:e.username.charAt(0).toUpperCase()})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"bg-gray-700 rounded-lg px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:e.username}),(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:M(e.createdAt)})]}),(0,a.jsx)("p",{className:"text-gray-100 text-sm",children:e.content})]})})]},e.id))})]})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,i.Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);function j(e){var t;let{onPostCreated:s}=e,{data:n}=(0,r.useSession)(),[l,i]=(0,h.useState)(!1),[c,o]=(0,h.useState)({content:"",mood:5,marketSentiment:"neutral",cryptoSymbol:"",tags:""}),d=async e=>{if(e.preventDefault(),(null==n?void 0:n.user)&&!l){i(!0);try{let e=await fetch("/api/community",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:c.content.trim(),mood:c.mood,marketSentiment:c.marketSentiment,cryptoSymbol:c.cryptoSymbol.trim()||void 0,tags:c.tags})});if(e.ok){let t=await e.json();s(t),o({content:"",mood:5,marketSentiment:"neutral",cryptoSymbol:"",tags:""})}}catch(e){console.error("Error creating post:",e)}finally{i(!1)}}},x=e=>{switch(e){case"bullish":return"text-green-400 border-green-400";case"bearish":return"text-red-400 border-red-400";default:return"text-gray-400 border-gray-400"}};return(null==n?void 0:n.user)?(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold",children:(null===(t=n.user.name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:"Share your crypto mood"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"How are you feeling about the market?"})]})]}),(0,a.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{value:c.content,onChange:e=>o({...c,content:e.target.value}),placeholder:"What's on your mind about crypto today?",className:"w-full bg-gray-700 text-white rounded-lg px-4 py-3 resize-none focus:outline-none focus:ring-2 focus:ring-purple-500",rows:4,maxLength:500,required:!0}),(0,a.jsx)("div",{className:"flex justify-between items-center mt-2",children:(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:[c.content.length,"/500"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-white text-sm font-medium mb-2",children:["Current Mood: ",c.mood,"/10"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"10",value:c.mood,onChange:e=>o({...c,mood:parseInt(e.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, \n                  ".concat(c.mood<=3?"#ef4444":c.mood<=6?"#eab308":"#22c55e"," 0%, \n                  ").concat(c.mood<=3?"#ef4444":c.mood<=6?"#eab308":"#22c55e"," ").concat(c.mood/10*100,"%, \n                  #374151 ").concat(c.mood/10*100,"%, \n                  #374151 100%)")}}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,a.jsx)("span",{children:"\uD83D\uDE22 Fearful"}),(0,a.jsx)("span",{children:"\uD83D\uDE10 Neutral"}),(0,a.jsx)("span",{children:"\uD83D\uDE0A Euphoric"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Market Sentiment"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{value:"bullish",label:"Bullish",icon:m.Z},{value:"neutral",label:"Neutral",icon:p},{value:"bearish",label:"Bearish",icon:u.Z}].map(e=>{let{value:t,label:s,icon:r}=e;return(0,a.jsxs)("button",{type:"button",onClick:()=>o({...c,marketSentiment:t}),className:"flex items-center justify-center space-x-2 py-2 px-3 rounded-lg border transition-colors ".concat(c.marketSentiment===t?x(t)+" bg-opacity-20":"text-gray-400 border-gray-600 hover:border-gray-500"),children:[(0,a.jsx)(r,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:s})]},t)})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Crypto Symbol (Optional)"}),(0,a.jsx)("input",{type:"text",value:c.cryptoSymbol,onChange:e=>o({...c,cryptoSymbol:e.target.value.toUpperCase()}),placeholder:"BTC, ETH, SOL...",className:"w-full bg-gray-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:10})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Tags (Optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",value:c.tags,onChange:e=>o({...c,tags:e.target.value}),placeholder:"trading, analysis, news",className:"w-full bg-gray-700 text-white rounded-lg pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Separate tags with commas"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:!c.content.trim()||l,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:l?"Sharing...":"Share with Community"})]})]}):(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 text-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"Please sign in to share your thoughts with the community."})})}function b(){let{data:e,status:t}=(0,r.useSession)(),[s,i]=(0,h.useState)([]),[u,p]=(0,h.useState)(null),[y,b]=(0,h.useState)(!0),[f,v]=(0,h.useState)(!1),[N,w]=(0,h.useState)(1),[k,S]=(0,h.useState)(!0),[C,Z]=(0,h.useState)({sentiment:"",symbol:"",tag:""}),[M,T]=(0,h.useState)(""),E=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{b(1===e),v(e>1);let s=new URLSearchParams({page:e.toString(),limit:"20"});C.sentiment&&s.append("sentiment",C.sentiment),C.symbol&&s.append("symbol",C.symbol),C.tag&&s.append("tag",C.tag),M&&s.append("search",M);let a=await fetch("/api/community?".concat(s)),r=await a.json();a.ok&&(t||1===e?i(r.posts):i(e=>[...e,...r.posts]),S(r.pagination.hasNext))}catch(e){console.error("Error fetching posts:",e)}finally{b(!1),v(!1)}},A=async()=>{try{let e=await fetch("/api/community/stats");if(e.ok){let t=await e.json();p(t)}}catch(e){console.error("Error fetching stats:",e)}};(0,h.useEffect)(()=>{E(1,!0),A()},[C,M]);let D=e=>{i(t=>t.map(t=>t._id===e._id?e:t)),A()},L=e=>{i(t=>t.filter(t=>t._id!==e)),A()};return"loading"===t?(0,a.jsx)(n.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-500"})})}):(0,a.jsx)(n.Z,{children:(0,a.jsx)("div",{className:"min-h-screen bg-black text-white",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,a.jsx)(l.Z,{className:"w-8 h-8 text-purple-400"}),(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Community Hub"})]}),(0,a.jsx)("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Share your crypto emotions, insights, and connect with fellow traders. Track market sentiment through collective mood data."})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(c,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",placeholder:"Search posts...",value:M,onChange:e=>T(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-700 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),u&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(l.Z,{className:"w-6 h-6 text-blue-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:u.totalPosts}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Posts"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.Z,{className:"w-6 h-6 text-red-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:u.totalLikes}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Likes"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(d,{className:"w-6 h-6 text-green-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:u.totalComments}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Comments"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(m.Z,{className:"w-6 h-6 text-purple-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:u.avgMood.toFixed(1)}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Avg Mood"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-3",children:[e&&(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(j,{onPostCreated:e=>{i(t=>[e,...t]),A()}})}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(x,{className:"w-5 h-5 text-gray-400"}),(0,a.jsx)("h3",{className:"text-white font-medium",children:"Filters"})]}),(C.sentiment||C.symbol||C.tag||M)&&(0,a.jsx)("button",{onClick:()=>{Z({sentiment:"",symbol:"",tag:""}),T(""),w(1)},className:"text-purple-400 hover:text-purple-300 text-sm",children:"Clear all"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("select",{value:C.sentiment,onChange:e=>Z(t=>({...t,sentiment:e.target.value})),className:"bg-gray-700 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,a.jsx)("option",{value:"",children:"All Sentiments"}),(0,a.jsx)("option",{value:"bullish",children:"Bullish"}),(0,a.jsx)("option",{value:"bearish",children:"Bearish"}),(0,a.jsx)("option",{value:"neutral",children:"Neutral"})]}),(0,a.jsx)("input",{type:"text",placeholder:"Filter by symbol (e.g., BTC)",value:C.symbol,onChange:e=>Z(t=>({...t,symbol:e.target.value})),className:"bg-gray-700 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,a.jsx)("input",{type:"text",placeholder:"Filter by tag",value:C.tag,onChange:e=>Z(t=>({...t,tag:e.target.value})),className:"bg-gray-700 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[y?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-400 mt-4",children:"Loading community posts..."})]}):0===s.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(l.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No posts found"}),(0,a.jsx)("p",{className:"text-gray-500",children:M||C.sentiment||C.symbol||C.tag?"Try adjusting your search or filters":"Be the first to share your crypto mood with the community!"})]}):s.map(t=>{var s;return(0,a.jsx)(g,{post:t,currentUserId:null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.id,onUpdate:D,onDelete:L},t._id)}),f&&(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto"})})]}),!y&&!f&&k&&(0,a.jsx)("div",{className:"text-center mt-8",children:(0,a.jsx)("button",{onClick:()=>{if(!f&&k){let e=N+1;w(e),E(e)}},className:"bg-gray-800 text-white px-6 py-3 rounded-lg border border-gray-700 hover:bg-gray-700 transition-colors",children:"Load More Posts"})})]}),(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[u&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-4",children:"Market Sentiment"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-green-400",children:"Bullish"}),(0,a.jsxs)("span",{children:[u.sentiment.bullish,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(u.sentiment.bullish,"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-red-400",children:"Bearish"}),(0,a.jsxs)("span",{children:[u.sentiment.bearish,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"".concat(u.sentiment.bearish,"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Neutral"}),(0,a.jsxs)("span",{children:[u.sentiment.neutral,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"".concat(u.sentiment.neutral,"%")}})})]})]})]}),u&&u.trendingSymbols.length>0&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-4",children:"Trending Cryptos"}),(0,a.jsx)("div",{className:"space-y-3",children:u.trendingSymbols.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-medium",children:e.symbol}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm ".concat(e.avgMood>6?"text-green-400":e.avgMood<4?"text-red-400":"text-yellow-400"),children:e.avgMood.toFixed(1)}),(0,a.jsxs)("span",{className:"text-gray-400 text-sm",children:[e.count," posts"]})]})]},e.symbol))})]}),u&&u.trendingTags.length>0&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-4",children:"Popular Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:u.trendingTags.slice(0,10).map(e=>(0,a.jsxs)("button",{onClick:()=>Z(t=>({...t,tag:e.tag})),className:"px-3 py-1 bg-gray-700 text-sm rounded-full hover:bg-gray-600 transition-colors",children:["#",e.tag," (",e.count,")"]},e.tag))})]})]})]})]})})})}},1975:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var a=s(7920);s(1335);var r=s(9449),n=s(8059),l=s.n(n),i=s(1627);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var o=s(2584),d=s(1),m=s(4229),x=s(3661),h=s(1579);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,i.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var p=e=>{var t,s;let{children:n}=e,{data:i}=(0,r.useSession)(),p=[{name:"Dashboard",href:"/dashboard",icon:c},{name:"Mood Log",href:"/mood",icon:o.Z},{name:"Predictions",href:"/predictions",icon:d.Z},{name:"Community",href:"/community",icon:m.Z}];return(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsx)("nav",{className:"border-b border-gray-800",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)(l(),{href:"/dashboard",className:"flex items-center space-x-2",children:[(0,a.jsx)(x.Z,{className:"text-purple-400",size:32}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:"CryptoMoodRing"})]}),(0,a.jsx)("div",{className:"hidden md:flex space-x-8",children:p.map(e=>{let t=e.icon;return(0,a.jsxs)(l(),{href:e.href,className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[(0,a.jsx)(t,{size:20}),(0,a.jsx)("span",{children:e.name})]},e.name)})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[i&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-300",children:[(0,a.jsx)(h.Z,{size:20}),(0,a.jsx)("span",{children:(null===(t=i.user)||void 0===t?void 0:t.username)||(null===(s=i.user)||void 0===s?void 0:s.name)})]}),(0,a.jsxs)("button",{onClick:()=>(0,r.signOut)({callbackUrl:"/"}),className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[(0,a.jsx)(u,{size:20}),(0,a.jsx)("span",{children:"Sign Out"})]})]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n})]})}}},function(e){e.O(0,[449,59,749,422,744],function(){return e(e.s=1009)}),_N_E=e.O()}]);