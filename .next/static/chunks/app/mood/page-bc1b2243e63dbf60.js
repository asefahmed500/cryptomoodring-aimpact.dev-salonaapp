(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[110],{3912:function(e,t,l){Promise.resolve().then(l.bind(l,7025))},7025:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return d}});var a=l(7920),s=l(9449),r=l(6685),n=l(1335);let o=["excited","confident","optimistic","calm","focused","anxious","fearful","greedy","frustrated","overwhelmed"],i=[{value:"bullish",label:"Bullish \uD83D\uDC02"},{value:"bearish",label:"Bearish \uD83D\uDC3B"},{value:"neutral",label:"Neutral ⚖️"},{value:"volatile",label:"Volatile \uD83D\uDCC8\uD83D\uDCC9"}];function d(){let{data:e,status:t}=(0,s.useSession)(),l=(0,r.useRouter)(),[d,c]=(0,n.useState)(5),[u,g]=(0,n.useState)([]),[m,h]=(0,n.useState)(""),[x,b]=(0,n.useState)(""),[p,f]=(0,n.useState)(!1),[y,v]=(0,n.useState)("");(0,n.useEffect)(()=>{"unauthenticated"===t&&l.push("/auth/signin")},[t,l]);let j=e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},N=async e=>{if(e.preventDefault(),!m||0===u.length){v("Please select at least one emotion and market condition");return}f(!0),v("");try{let e=await fetch("/api/moods",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({moodScore:d,emotions:u,marketCondition:m,notes:x})});if(e.ok)v("Mood logged successfully!"),c(5),g([]),h(""),b(""),setTimeout(()=>{l.push("/dashboard")},1500);else{let t=await e.json();v(t.message||"Failed to log mood")}}catch(e){v("An error occurred. Please try again.")}finally{f(!1)}};return"loading"===t?(0,a.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-xl",children:"Loading..."})}):e?(0,a.jsx)("div",{className:"min-h-screen bg-black text-white",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Log Your Mood"}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-lg font-medium mb-4",children:["How are you feeling? (",d,"/10)"]}),(0,a.jsx)("input",{type:"range",min:"1",max:"10",value:d,onChange:e=>c(Number(e.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[(0,a.jsx)("span",{children:"Very Bad"}),(0,a.jsx)("span",{children:"Neutral"}),(0,a.jsx)("span",{children:"Excellent"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-lg font-medium mb-4",children:"What emotions are you experiencing?"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>j(e),className:"p-3 rounded-lg border transition-colors ".concat(u.includes(e)?"bg-purple-600 border-purple-500 text-white":"bg-gray-800 border-gray-600 text-gray-300 hover:bg-gray-700"),children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-lg font-medium mb-4",children:"How do you view the current market?"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:i.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>h(e.value),className:"p-4 rounded-lg border transition-colors ".concat(m===e.value?"bg-pink-600 border-pink-500 text-white":"bg-gray-800 border-gray-600 text-gray-300 hover:bg-gray-700"),children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-lg font-medium mb-4",children:"Additional notes (optional)"}),(0,a.jsx)("textarea",{value:x,onChange:e=>b(e.target.value),placeholder:"What's influencing your mood today?",className:"w-full p-4 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500",rows:4,maxLength:500}),(0,a.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[x.length,"/500 characters"]})]}),(0,a.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white py-3 rounded-lg font-semibold transition-colors",children:p?"Logging Mood...":"Log Mood"}),y&&(0,a.jsx)("div",{className:"text-center p-3 rounded-lg ".concat(y.includes("success")?"bg-green-900 text-green-300":"bg-red-900 text-red-300"),children:y})]})]})})}):null}},6685:function(e,t,l){e.exports=l(1777)}},function(e){e.O(0,[449,749,422,744],function(){return e(e.s=3912)}),_N_E=e.O()}]);