(()=>{var e={};e.id=616,e.ids=[616],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},20986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o});var r=s(16625),a=s(75345),n=s(44666),l=s.n(n),i=s(68889),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["community",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,34954)),"E:\\project_qcatuy\\src\\app\\community\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,64119)),"E:\\project_qcatuy\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,12253,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\project_qcatuy\\src\\app\\community\\page.tsx"],m="/community/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/community/page",pathname:"/community",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},34197:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,16701,23)),Promise.resolve().then(s.t.bind(s,77656,23)),Promise.resolve().then(s.t.bind(s,69306,23)),Promise.resolve().then(s.t.bind(s,39810,23)),Promise.resolve().then(s.t.bind(s,35525,23)),Promise.resolve().then(s.t.bind(s,15990,23))},88637:(e,t,s)=>{Promise.resolve().then(s.bind(s,44416))},24165:(e,t,s)=>{Promise.resolve().then(s.bind(s,96318))},25668:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(82566),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,...m},x)=>(0,r.createElement)("svg",{ref:x,...a,width:l,height:l,stroke:s,strokeWidth:c?24*Number(i)/Number(l):i,className:["lucide",`lucide-${n(e)}`,o].join(" "),...m},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},87830:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(25668).Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]])},11586:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(25668).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},67147:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(25668).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},71233:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(25668).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},27774:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(25668).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},46199:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(25668).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},44416:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(44353),a=s(13094),n=s(43141),l=s(46199),i=s(25668);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var o=s(11586);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,i.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);var m=s(71233);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,i.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var h=s(82566),u=s(67147);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,i.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function g({post:e,currentUserId:t,onUpdate:s,onDelete:n}){var l;let{data:i}=(0,a.useSession)(),[c,x]=(0,h.useState)(!1),[g,y]=(0,h.useState)(""),[j,b]=(0,h.useState)(!1),f=t&&e.likes.includes(t),v=!!i?.user,N=async()=>{if(v&&t)try{let t=await fetch(`/api/community/${e._id}/like`,{method:"POST",headers:{"Content-Type":"application/json"}});if(t.ok){let e=await t.json();s(e)}}catch(e){console.error("Error liking post:",e)}},w=async t=>{if(t.preventDefault(),v&&g.trim()&&!j){b(!0);try{let t=await fetch(`/api/community/${e._id}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:g.trim()})});if(t.ok){let e=await t.json();s(e),y("")}}catch(e){console.error("Error adding comment:",e)}finally{b(!1)}}},k=async()=>{if(v&&e.userId===t)try{(await fetch(`/api/community/${e._id}`,{method:"DELETE"})).ok&&n(e._id)}catch(e){console.error("Error deleting post:",e)}},S=e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/36e5);return s<1?"Just now":s<24?`${s}h ago`:t.toLocaleDateString()};return(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold",children:e.username.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-white font-medium",children:e.username}),r.jsx("p",{className:"text-gray-400 text-sm",children:S(e.createdAt)})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(()=>{switch(e.marketSentiment){case"bullish":return r.jsx(m.Z,{className:"w-4 h-4 text-green-400"});case"bearish":return r.jsx(u.Z,{className:"w-4 h-4 text-red-400"});default:return r.jsx(p,{className:"w-4 h-4 text-gray-400"})}})(),(0,r.jsxs)("span",{className:`text-sm font-medium ${(l=e.mood)<=3?"text-red-400":l<=6?"text-yellow-400":"text-green-400"}`,children:["Mood: ",e.mood,"/10"]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("p",{className:"text-gray-100 mb-3",children:e.content}),e.cryptoSymbol&&(0,r.jsxs)("div",{className:"inline-block bg-blue-600 text-white px-2 py-1 rounded text-sm mb-2",children:["$",e.cryptoSymbol]}),e.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((e,t)=>(0,r.jsxs)("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded-full text-xs",children:["#",e]},t))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("button",{onClick:N,disabled:!v,className:`flex items-center space-x-2 transition-colors ${f?"text-red-400 hover:text-red-300":"text-gray-400 hover:text-red-400"} ${v?"":"opacity-50 cursor-not-allowed"}`,children:[r.jsx(o.Z,{className:`w-5 h-5 ${f?"fill-current":""}`}),r.jsx("span",{children:e.likes.length})]}),(0,r.jsxs)("button",{onClick:()=>x(!c),className:"flex items-center space-x-2 text-gray-400 hover:text-blue-400 transition-colors",children:[r.jsx(d,{className:"w-5 h-5"}),r.jsx("span",{children:e.comments.length})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[r.jsx("span",{className:"capitalize",children:e.marketSentiment}),e.userId===t&&r.jsx("button",{onClick:k,className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]}),c&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[v&&r.jsx("form",{onSubmit:w,className:"mb-4",children:(0,r.jsxs)("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:i?.user?.name?.charAt(0).toUpperCase()||"U"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("textarea",{value:g,onChange:e=>y(e.target.value),placeholder:"Add a comment...",className:"w-full bg-gray-700 text-white rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-purple-500",rows:2,maxLength:200}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:[g.length,"/200"]}),r.jsx("button",{type:"submit",disabled:!g.trim()||j,className:"bg-purple-600 text-white px-4 py-1 rounded text-sm hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:j?"Posting...":"Post"})]})]})]})}),r.jsx("div",{className:"space-y-3",children:e.comments.map(e=>(0,r.jsxs)("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-sm font-semibold",children:e.username.charAt(0).toUpperCase()})}),r.jsx("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"bg-gray-700 rounded-lg px-3 py-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"text-white text-sm font-medium",children:e.username}),r.jsx("span",{className:"text-gray-400 text-xs",children:S(e.createdAt)})]}),r.jsx("p",{className:"text-gray-100 text-sm",children:e.content})]})})]},e.id))})]})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,i.Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);function j({onPostCreated:e}){let{data:t}=(0,a.useSession)(),[s,n]=(0,h.useState)(!1),[l,i]=(0,h.useState)({content:"",mood:5,marketSentiment:"neutral",cryptoSymbol:"",tags:""}),c=async r=>{if(r.preventDefault(),t?.user&&!s){n(!0);try{let t=await fetch("/api/community",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:l.content.trim(),mood:l.mood,marketSentiment:l.marketSentiment,cryptoSymbol:l.cryptoSymbol.trim()||void 0,tags:l.tags})});if(t.ok){let s=await t.json();e(s),i({content:"",mood:5,marketSentiment:"neutral",cryptoSymbol:"",tags:""})}}catch(e){console.error("Error creating post:",e)}finally{n(!1)}}},o=e=>{switch(e){case"bullish":return"text-green-400 border-green-400";case"bearish":return"text-red-400 border-red-400";default:return"text-gray-400 border-gray-400"}};return t?.user?(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold",children:t.user.name?.charAt(0).toUpperCase()||"U"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-white font-medium",children:"Share your crypto mood"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"How are you feeling about the market?"})]})]}),(0,r.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("textarea",{value:l.content,onChange:e=>i({...l,content:e.target.value}),placeholder:"What's on your mind about crypto today?",className:"w-full bg-gray-700 text-white rounded-lg px-4 py-3 resize-none focus:outline-none focus:ring-2 focus:ring-purple-500",rows:4,maxLength:500,required:!0}),r.jsx("div",{className:"flex justify-between items-center mt-2",children:(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:[l.content.length,"/500"]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-white text-sm font-medium mb-2",children:["Current Mood: ",l.mood,"/10"]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:"range",min:"1",max:"10",value:l.mood,onChange:e=>i({...l,mood:parseInt(e.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, 
                  ${l.mood<=3?"#ef4444":l.mood<=6?"#eab308":"#22c55e"} 0%, 
                  ${l.mood<=3?"#ef4444":l.mood<=6?"#eab308":"#22c55e"} ${l.mood/10*100}%, 
                  #374151 ${l.mood/10*100}%, 
                  #374151 100%)`}}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[r.jsx("span",{children:"\uD83D\uDE22 Fearful"}),r.jsx("span",{children:"\uD83D\uDE10 Neutral"}),r.jsx("span",{children:"\uD83D\uDE0A Euphoric"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Market Sentiment"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"bullish",label:"Bullish",icon:m.Z},{value:"neutral",label:"Neutral",icon:p},{value:"bearish",label:"Bearish",icon:u.Z}].map(({value:e,label:t,icon:s})=>(0,r.jsxs)("button",{type:"button",onClick:()=>i({...l,marketSentiment:e}),className:`flex items-center justify-center space-x-2 py-2 px-3 rounded-lg border transition-colors ${l.marketSentiment===e?o(e)+" bg-opacity-20":"text-gray-400 border-gray-600 hover:border-gray-500"}`,children:[r.jsx(s,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:t})]},e))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Crypto Symbol (Optional)"}),r.jsx("input",{type:"text",value:l.cryptoSymbol,onChange:e=>i({...l,cryptoSymbol:e.target.value.toUpperCase()}),placeholder:"BTC, ETH, SOL...",className:"w-full bg-gray-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:10})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Tags (Optional)"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",value:l.tags,onChange:e=>i({...l,tags:e.target.value}),placeholder:"trading, analysis, news",className:"w-full bg-gray-700 text-white rounded-lg pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Separate tags with commas"})]})]}),r.jsx("button",{type:"submit",disabled:!l.content.trim()||s,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:s?"Sharing...":"Share with Community"})]})]}):r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 text-center",children:r.jsx("p",{className:"text-gray-400",children:"Please sign in to share your thoughts with the community."})})}function b(){let{data:e,status:t}=(0,a.useSession)(),[s,i]=(0,h.useState)([]),[u,p]=(0,h.useState)(null),[y,b]=(0,h.useState)(!0),[f,v]=(0,h.useState)(!1),[N,w]=(0,h.useState)(1),[k,S]=(0,h.useState)(!0),[C,Z]=(0,h.useState)({sentiment:"",symbol:"",tag:""}),[P,_]=(0,h.useState)(""),M=async(e=1,t=!1)=>{try{b(1===e),v(e>1);let s=new URLSearchParams({page:e.toString(),limit:"20"});C.sentiment&&s.append("sentiment",C.sentiment),C.symbol&&s.append("symbol",C.symbol),C.tag&&s.append("tag",C.tag),P&&s.append("search",P);let r=await fetch(`/api/community?${s}`),a=await r.json();r.ok&&(t||1===e?i(a.posts):i(e=>[...e,...a.posts]),S(a.pagination.hasNext))}catch(e){console.error("Error fetching posts:",e)}finally{b(!1),v(!1)}},E=async()=>{try{let e=await fetch("/api/community/stats");if(e.ok){let t=await e.json();p(t)}}catch(e){console.error("Error fetching stats:",e)}};(0,h.useEffect)(()=>{M(1,!0),E()},[C,P]);let $=e=>{i(t=>t.map(t=>t._id===e._id?e:t)),E()},T=e=>{i(t=>t.filter(t=>t._id!==e)),E()};return"loading"===t?r.jsx(n.Z,{children:r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-500"})})}):r.jsx(n.Z,{children:r.jsx("div",{className:"min-h-screen bg-black text-white",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[r.jsx(l.Z,{className:"w-8 h-8 text-purple-400"}),r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Community Hub"})]}),r.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Share your crypto emotions, insights, and connect with fellow traders. Track market sentiment through collective mood data."})]}),r.jsx("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(c,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search posts...",value:P,onChange:e=>_(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-700 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),u&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(l.Z,{className:"w-6 h-6 text-blue-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:u.totalPosts}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Posts"})]})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(o.Z,{className:"w-6 h-6 text-red-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:u.totalLikes}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Likes"})]})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(d,{className:"w-6 h-6 text-green-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:u.totalComments}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Comments"})]})]})}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(m.Z,{className:"w-6 h-6 text-purple-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:u.avgMood.toFixed(1)}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Avg Mood"})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-3",children:[e&&r.jsx("div",{className:"mb-8",children:r.jsx(j,{onPostCreated:e=>{i(t=>[e,...t]),E()}})}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(x,{className:"w-5 h-5 text-gray-400"}),r.jsx("h3",{className:"text-white font-medium",children:"Filters"})]}),(C.sentiment||C.symbol||C.tag||P)&&r.jsx("button",{onClick:()=>{Z({sentiment:"",symbol:"",tag:""}),_(""),w(1)},className:"text-purple-400 hover:text-purple-300 text-sm",children:"Clear all"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("select",{value:C.sentiment,onChange:e=>Z(t=>({...t,sentiment:e.target.value})),className:"bg-gray-700 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"All Sentiments"}),r.jsx("option",{value:"bullish",children:"Bullish"}),r.jsx("option",{value:"bearish",children:"Bearish"}),r.jsx("option",{value:"neutral",children:"Neutral"})]}),r.jsx("input",{type:"text",placeholder:"Filter by symbol (e.g., BTC)",value:C.symbol,onChange:e=>Z(t=>({...t,symbol:e.target.value})),className:"bg-gray-700 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),r.jsx("input",{type:"text",placeholder:"Filter by tag",value:C.tag,onChange:e=>Z(t=>({...t,tag:e.target.value})),className:"bg-gray-700 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[y?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-4",children:"Loading community posts..."})]}):0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(l.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No posts found"}),r.jsx("p",{className:"text-gray-500",children:P||C.sentiment||C.symbol||C.tag?"Try adjusting your search or filters":"Be the first to share your crypto mood with the community!"})]}):s.map(t=>r.jsx(g,{post:t,currentUserId:e?.user?.id,onUpdate:$,onDelete:T},t._id)),f&&r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto"})})]}),!y&&!f&&k&&r.jsx("div",{className:"text-center mt-8",children:r.jsx("button",{onClick:()=>{if(!f&&k){let e=N+1;w(e),M(e)}},className:"bg-gray-800 text-white px-6 py-3 rounded-lg border border-gray-700 hover:bg-gray-700 transition-colors",children:"Load More Posts"})})]}),(0,r.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[u&&(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[r.jsx("h3",{className:"text-white font-medium mb-4",children:"Market Sentiment"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-green-400",children:"Bullish"}),(0,r.jsxs)("span",{children:[u.sentiment.bullish,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${u.sentiment.bullish}%`}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-red-400",children:"Bearish"}),(0,r.jsxs)("span",{children:[u.sentiment.bearish,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${u.sentiment.bearish}%`}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-gray-400",children:"Neutral"}),(0,r.jsxs)("span",{children:[u.sentiment.neutral,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:`${u.sentiment.neutral}%`}})})]})]})]}),u&&u.trendingSymbols.length>0&&(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[r.jsx("h3",{className:"text-white font-medium mb-4",children:"Trending Cryptos"}),r.jsx("div",{className:"space-y-3",children:u.trendingSymbols.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium",children:e.symbol}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`text-sm ${e.avgMood>6?"text-green-400":e.avgMood<4?"text-red-400":"text-yellow-400"}`,children:e.avgMood.toFixed(1)}),(0,r.jsxs)("span",{className:"text-gray-400 text-sm",children:[e.count," posts"]})]})]},e.symbol))})]}),u&&u.trendingTags.length>0&&(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[r.jsx("h3",{className:"text-white font-medium mb-4",children:"Popular Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:u.trendingTags.slice(0,10).map(e=>(0,r.jsxs)("button",{onClick:()=>Z(t=>({...t,tag:e.tag})),className:"px-3 py-1 bg-gray-700 text-sm rounded-full hover:bg-gray-600 transition-colors",children:["#",e.tag," (",e.count,")"]},e.tag))})]})]})]})]})})})}},96318:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Providers:()=>n});var r=s(44353),a=s(13094);function n({children:e}){return r.jsx(a.SessionProvider,{children:e})}},43141:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var r=s(44353);s(82566);var a=s(13094),n=s(43038),l=s.n(n),i=s(25668);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var o=s(11586),d=s(71233),m=s(46199),x=s(87830),h=s(27774);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,i.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),p=({children:e})=>{let{data:t}=(0,a.useSession)(),s=[{name:"Dashboard",href:"/dashboard",icon:c},{name:"Mood Log",href:"/mood",icon:o.Z},{name:"Predictions",href:"/predictions",icon:d.Z},{name:"Community",href:"/community",icon:m.Z}];return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[r.jsx("nav",{className:"border-b border-gray-800",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,r.jsxs)(l(),{href:"/dashboard",className:"flex items-center space-x-2",children:[r.jsx(x.Z,{className:"text-purple-400",size:32}),r.jsx("span",{className:"text-2xl font-bold",children:"CryptoMoodRing"})]}),r.jsx("div",{className:"hidden md:flex space-x-8",children:s.map(e=>{let t=e.icon;return(0,r.jsxs)(l(),{href:e.href,className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[r.jsx(t,{size:20}),r.jsx("span",{children:e.name})]},e.name)})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[t&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-gray-300",children:[r.jsx(h.Z,{size:20}),r.jsx("span",{children:t.user?.username||t.user?.name})]}),(0,r.jsxs)("button",{onClick:()=>(0,a.signOut)({callbackUrl:"/"}),className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[r.jsx(u,{size:20}),r.jsx("span",{children:"Sign Out"})]})]})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})}},34954:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});let r=(0,s(38164).createProxy)(String.raw`E:\project_qcatuy\src\app\community\page.tsx`),{__esModule:a,$$typeof:n}=r,l=r.default},64119:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x,metadata:()=>m});var r=s(4699),a=s(44447),n=s.n(a);s(30242);var l=s(38164);let i=(0,l.createProxy)(String.raw`E:\project_qcatuy\src\app\providers.tsx`),{__esModule:c,$$typeof:o}=i;i.default;let d=(0,l.createProxy)(String.raw`E:\project_qcatuy\src\app\providers.tsx#Providers`),m={title:"CryptoMoodRing - Emotional Intelligence for Crypto Trading",description:"Track your emotional intelligence in crypto trading. Join a community-driven sentiment analysis platform."};function x({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:r.jsx(d,{children:e})})})}},30242:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[120,301,38],()=>s(20986));module.exports=r})();